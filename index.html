<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title data-i18n="title">OsteoJump</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Hide content until translations are loaded */
        body:not(.i18n-ready) {
            visibility: hidden;
        }
        body.i18n-ready {
            visibility: visible;
        }
        /* Fallback: show content after 1 second even if translations didn't load */
        @keyframes showContent {
            from { visibility: hidden; }
            to { visibility: visible; }
        }
        body {
            animation: showContent 0s 1s forwards;
        }
    </style>
    <script src="js/clean-url.js"></script>
    <script>
        // Quick language detection and set title immediately to prevent flickering
        (function() {
            const supportedLangs = ['ru', 'en', 'de', 'pl', 'uk'];
            const savedLang = localStorage.getItem('language');
            let lang = 'en'; // default
            
            if (savedLang && supportedLangs.includes(savedLang)) {
                lang = savedLang;
            } else {
                const browserLang = (navigator.language || navigator.userLanguage).split('-')[0].toLowerCase();
                if (supportedLangs.includes(browserLang)) {
                    lang = browserLang;
                }
            }
            
            // Set lang attribute immediately
            document.documentElement.lang = lang;
            
            // Title translations map for immediate setting
            const titleMap = {
                'ru': { 'title': 'OsteoJump', 'prices.title': '–¶–µ–Ω—ã - OsteoJump', 'reviews.title': '–û—Ç–∑—ã–≤—ã - OsteoJump', 'about_page.title': '–û–±–æ –º–Ω–µ - OsteoJump', 'faq.title': '–í–æ–ø—Ä–æ—Å—ã - OsteoJump' },
                'en': { 'title': 'OsteoJump', 'prices.title': 'Prices - OsteoJump', 'reviews.title': 'Reviews - OsteoJump', 'about_page.title': 'About Me - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'de': { 'title': 'OsteoJump', 'prices.title': 'Preise - OsteoJump', 'reviews.title': 'Bewertungen - OsteoJump', 'about_page.title': '√úber mich - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'pl': { 'title': 'OsteoJump', 'prices.title': 'Ceny - OsteoJump', 'reviews.title': 'Opinie - OsteoJump', 'about_page.title': 'O mnie - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'uk': { 'title': 'OsteoJump', 'prices.title': '–¶—ñ–Ω–∏ - OsteoJump', 'reviews.title': '–í—ñ–¥–≥—É–∫–∏ - OsteoJump', 'about_page.title': '–ü—Ä–æ –º–µ–Ω–µ - OsteoJump', 'faq.title': '–ü–∏—Ç–∞–Ω–Ω—è - OsteoJump' }
            };
            
            // Set title immediately based on current page
            const titleElement = document.querySelector('title');
            if (titleElement) {
                const titleKey = titleElement.getAttribute('data-i18n') || 'title';
                const translations = titleMap[lang] || titleMap['en'];
                if (translations[titleKey]) {
                    titleElement.textContent = translations[titleKey];
                }
            }
            
            // Preload translation file for faster loading (with versioning)
            // Use timestamp to ensure fresh load even if HTML is cached
            const translationsVersion = '5'; // Must match version in i18n.js
            const timestamp = Date.now(); // Add timestamp to force refresh
            const link = document.createElement('link');
            link.rel = 'preload';
            link.as = 'fetch';
            link.crossOrigin = 'anonymous';
            link.href = `locales/${lang}.json?v=${translationsVersion}&t=${timestamp}`;
            document.head.appendChild(link);
        })();
    </script>
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <div class="logo">
                <a href="/"><h1 data-i18n="logo">OsteoJump</h1></a>
            </div>
            <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="/" data-i18n="nav.home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/prices" data-i18n="nav.prices">–¶–µ–Ω—ã</a></li>
                <li><a href="/reviews" data-i18n="nav.reviews">–û—Ç–∑—ã–≤—ã</a></li>
                <li><a href="/about" data-i18n="nav.about">–û–±–æ –º–Ω–µ</a></li>
                <li><a href="/faq" data-i18n="nav.faq">–í–æ–ø—Ä–æ—Å—ã</a></li>
            </ul>
            <div class="lang-select-wrapper">
                <button class="lang-select-btn" id="langSelectBtn" aria-label="Select language" aria-expanded="false">
                    <span class="lang-select-text" id="langSelectText"><span class="flag-emoji">üá¨üáß</span> EN</span>
                    <span class="lang-select-arrow">‚ñº</span>
                </button>
                <div class="lang-select-dropdown" id="langSelectDropdown">
                    <button class="lang-select-option" data-lang="ru"><span class="flag-emoji">üá∑üá∫</span> RU</button>
                    <button class="lang-select-option" data-lang="en"><span class="flag-emoji">üá¨üáß</span> EN</button>
                    <button class="lang-select-option" data-lang="de"><span class="flag-emoji">üá©üá™</span> DE</button>
                    <button class="lang-select-option" data-lang="pl"><span class="flag-emoji">üáµüá±</span> PL</button>
                    <button class="lang-select-option" data-lang="uk"><span class="flag-emoji">üá∫üá¶</span> UK</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="main">
        <!-- Hero section with doctor photo -->
        <section class="hero-doctor">
            <div class="container">
                <div class="doctor-intro">
                    <div class="doctor-photo-wrapper">
                        <img src="/images/hanna-photo.jpg" alt="Bykava Hanna" class="doctor-photo" id="doctorPhoto" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'photo-placeholder\'>üì∑</div>';">
                    </div>
                    <div class="doctor-info">
                        <p class="doctor-text" data-i18n="doctor.intro">–Ø ‚Äî Bykava Hanna, –≤—Ä–∞—á-–æ—Å—Ç–µ–æ–ø–∞—Ç –≤ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ —Å 2018 –≥–æ–¥–∞. –í–µ—Ä—é –≤ –ª—é–¥–µ–π –∏ –¥–µ–ª–∞—é —ç—Ç–æ—Ç –º–∏—Ä —á—É—Ç–æ—á–∫—É –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.</p>
                        <a href="#" class="cta-button" data-i18n="doctor.book_button">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Osteopathy section -->
        <section class="osteopathy">
            <div class="container">
                <h2 class="section-title" data-i18n="osteopathy.title">–û—Å—Ç–µ–æ–ø–∞—Ç–∏—è</h2>
                <div class="osteopathy-content">
                    <p class="osteopathy-text" data-i18n="osteopathy.text">–û—Å—Ç–µ–æ–ø–∞—Ç–∏—è ‚Äî —ç—Ç–æ —Ü–µ–ª–æ—Å—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∑–¥–æ—Ä–æ–≤—å—é, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –ø–æ–Ω–∏–º–∞–Ω–∏–∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º –æ—Ä–≥–∞–Ω–∏–∑–º–∞. –ö–∞–∂–¥—ã–π —á–µ–ª–æ–≤–µ–∫ —É–Ω–∏–∫–∞–ª–µ–Ω, –∏ —è –ø–æ–¥—Ö–æ–∂—É –∫ –ª–µ—á–µ–Ω–∏—é –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ, —É—á–∏—Ç—ã–≤–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ —Ç–µ–ª–∞ –∏ –æ–±—Ä–∞–∑–∞ –∂–∏–∑–Ω–∏.</p>
                </div>
            </div>
        </section>

        <!-- Reviews carousel -->
        <section class="reviews-carousel-section">
            <div class="container">
                <h2 class="section-title" data-i18n="reviews.title">–û—Ç–∑—ã–≤—ã</h2>
                <div class="reviews-carousel" id="reviewsCarousel">
                    <div class="reviews-track" id="reviewsTrack">
                        <!-- Reviews will be added dynamically or via data-i18n -->
                        <div class="review-card" data-i18n="reviews.placeholder">
                            <p class="review-text">–û—Ç–∑—ã–≤—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è</p>
                        </div>
                    </div>
                    <button class="carousel-btn carousel-prev" id="carouselPrev" aria-label="Previous review">‚Äπ</button>
                    <button class="carousel-btn carousel-next" id="carouselNext" aria-label="Next review">‚Ä∫</button>
                    <div class="carousel-dots" id="carouselDots"></div>
                </div>
            </div>
        </section>

        <!-- Google Maps -->
        <section class="map-section">
            <div class="container">
                <h2 class="section-title" data-i18n="map.title">–ö–∞–∫ –Ω–∞—Å –Ω–∞–π—Ç–∏</h2>
                <div class="map-wrapper">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2443.1234567890123!2d21.0123456!3d52.2345678!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x471ecc669a869f01%3A0xb5627e6678041c7c!2sSi%C5%82aczki%203%2F9%2C%2002-495%20Warszawa!5e0!3m2!1sru!2spl!4v1234567890123!5m2!1sru!2spl"
                        width="100%" 
                        height="450" 
                        style="border:0;" 
                        allowfullscreen="" 
                        loading="lazy" 
                        referrerpolicy="no-referrer-when-downgrade"
                        class="map-iframe">
                    </iframe>
                    <div class="map-info">
                        <p class="map-address" data-i18n="map.address">Si≈Çaczki 3/9/local 212, 02-495 Warszawa</p>
                        <a href="https://maps.app.goo.gl/nisp2LjM92sZRDYz9" target="_blank" rel="noopener noreferrer" class="map-link" data-i18n="map.open_link">–û—Ç–∫—Ä—ã—Ç—å –≤ Google Maps</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contacts section -->
        <section class="contacts-section">
            <div class="container">
                <h2 class="section-title" data-i18n="contacts.title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                <div class="contacts-content">
                    <div class="contact-item">
                        <span class="contact-label" data-i18n="contacts.phone_label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                        <a href="tel:+48123456789" class="contact-value" data-i18n="contacts.phone">+48 123 456 789</a>
                    </div>
                    <div class="contact-actions">
                        <a href="tel:+48123456789" class="contact-btn phone-btn" aria-label="–ü–æ–∑–≤–æ–Ω–∏—Ç—å">
                            <span class="contact-icon">üìû</span>
                            <span data-i18n="contacts.call">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-i18n="footer.text">&copy; 2024 OsteoJump. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>
</body>
</html>

