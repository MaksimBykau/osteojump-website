<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title data-i18n="title">OsteoJump</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.png">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Hide content until translations are loaded */
        body:not(.i18n-ready) {
            visibility: hidden;
        }
        body.i18n-ready {
            visibility: visible;
        }
        /* Fallback: show content after 1 second even if translations didn't load */
        @keyframes showContent {
            from { visibility: hidden; }
            to { visibility: visible; }
        }
        body {
            animation: showContent 0s 1s forwards;
        }
    </style>
    <script src="js/clean-url.js"></script>
    <script>
        // Quick language detection and set title immediately to prevent flickering
        (function() {
            const supportedLangs = ['ru', 'en', 'de', 'pl', 'uk'];
            const savedLang = localStorage.getItem('language');
            let lang = 'en'; // default
            
            if (savedLang && supportedLangs.includes(savedLang)) {
                lang = savedLang;
            } else {
                const browserLang = (navigator.language || navigator.userLanguage).split('-')[0].toLowerCase();
                if (supportedLangs.includes(browserLang)) {
                    lang = browserLang;
                }
            }
            
            // Set lang attribute immediately
            document.documentElement.lang = lang;
            
            // Title translations map for immediate setting
            const titleMap = {
                'ru': { 'title': 'OsteoJump', 'prices.title': '–¶–µ–Ω—ã - OsteoJump', 'reviews.title': '–û—Ç–∑—ã–≤—ã - OsteoJump', 'about_page.title': '–û–±–æ –º–Ω–µ - OsteoJump', 'faq.title': '–í–æ–ø—Ä–æ—Å—ã - OsteoJump' },
                'en': { 'title': 'OsteoJump', 'prices.title': 'Prices - OsteoJump', 'reviews.title': 'Reviews - OsteoJump', 'about_page.title': 'About Me - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'de': { 'title': 'OsteoJump', 'prices.title': 'Preise - OsteoJump', 'reviews.title': 'Bewertungen - OsteoJump', 'about_page.title': '√úber mich - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'pl': { 'title': 'OsteoJump', 'prices.title': 'Ceny - OsteoJump', 'reviews.title': 'Opinie - OsteoJump', 'about_page.title': 'O mnie - OsteoJump', 'faq.title': 'FAQ - OsteoJump' },
                'uk': { 'title': 'OsteoJump', 'prices.title': '–¶—ñ–Ω–∏ - OsteoJump', 'reviews.title': '–í—ñ–¥–≥—É–∫–∏ - OsteoJump', 'about_page.title': '–ü—Ä–æ –º–µ–Ω–µ - OsteoJump', 'faq.title': '–ü–∏—Ç–∞–Ω–Ω—è - OsteoJump' }
            };
            
            // Set title immediately based on current page
            const titleElement = document.querySelector('title');
            if (titleElement) {
                const titleKey = titleElement.getAttribute('data-i18n') || 'title';
                const translations = titleMap[lang] || titleMap['en'];
                if (translations[titleKey]) {
                    titleElement.textContent = translations[titleKey];
                }
            }
            
            // Preload translation file for faster loading (with versioning)
            // Use timestamp to ensure fresh load even if HTML is cached
            const translationsVersion = '5'; // Must match version in i18n.js
            const timestamp = Date.now(); // Add timestamp to force refresh
            const link = document.createElement('link');
            link.rel = 'preload';
            link.as = 'fetch';
            link.crossOrigin = 'anonymous';
            link.href = `locales/${lang}.json?v=${translationsVersion}&t=${timestamp}`;
            document.head.appendChild(link);
        })();
    </script>
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <div class="logo">
                <a href="/"><h1 data-i18n="logo">OsteoJump</h1></a>
            </div>
            <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu" id="navMenu">
                <li><a href="/" data-i18n="nav.home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/prices" data-i18n="nav.prices">–¶–µ–Ω—ã</a></li>
                <li><a href="/reviews" data-i18n="nav.reviews">–û—Ç–∑—ã–≤—ã</a></li>
                <li><a href="/about" data-i18n="nav.about">–û–±–æ –º–Ω–µ</a></li>
                <li><a href="/faq" data-i18n="nav.faq">–í–æ–ø—Ä–æ—Å—ã</a></li>
            </ul>
            <div class="lang-select-wrapper">
                <button class="lang-select-btn" id="langSelectBtn" aria-label="Select language" aria-expanded="false">
                    <span class="lang-select-text" id="langSelectText"><span class="flag-emoji">üá¨üáß</span> EN</span>
                    <span class="lang-select-arrow">‚ñº</span>
                </button>
                <div class="lang-select-dropdown" id="langSelectDropdown">
                    <button class="lang-select-option" data-lang="ru"><span class="flag-emoji">üá∑üá∫</span> RU</button>
                    <button class="lang-select-option" data-lang="en"><span class="flag-emoji">üá¨üáß</span> EN</button>
                    <button class="lang-select-option" data-lang="de"><span class="flag-emoji">üá©üá™</span> DE</button>
                    <button class="lang-select-option" data-lang="pl"><span class="flag-emoji">üáµüá±</span> PL</button>
                    <button class="lang-select-option" data-lang="uk"><span class="flag-emoji">üá∫üá¶</span> UK</button>
                </div>
            </div>
        </nav>
    </header>

    <main class="main">
        <section class="hero">
            <div class="container">
                <h2 class="hero-title" data-i18n="hero.title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h2>
                <p class="hero-text" data-i18n="hero.text">–ò–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤–∞—à–µ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è –∏ –±–ª–∞–≥–æ–ø–æ–ª—É—á–∏—è</p>
                <button class="cta-button" data-i18n="hero.button">–ù–∞—á–∞—Ç—å</button>
            </div>
        </section>

        <section class="features">
            <div class="container">
                <h2 class="section-title" data-i18n="features.title">–ù–∞—à–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <h3 data-i18n="features.item1.title">–ö–∞—á–µ—Å—Ç–≤–æ</h3>
                        <p data-i18n="features.item1.text">–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —É—Å–ª—É–≥ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º –∫–æ–º–∞–Ω–¥—ã</p>
                    </div>
                    <div class="feature-card">
                        <h3 data-i18n="features.item2.title">–û–ø—ã—Ç</h3>
                        <p data-i18n="features.item2.text">–ú–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ —Å—Ñ–µ—Ä–µ –∑–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</p>
                    </div>
                    <div class="feature-card">
                        <h3 data-i18n="features.item3.title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
                        <p data-i18n="features.item3.text">–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="about">
            <div class="container">
                <h2 class="section-title" data-i18n="about.title">–û –Ω–∞—Å</h2>
                <p class="about-text" data-i18n="about.text">–ú—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è –Ω–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —É—Å–ª—É–≥ –≤ –æ–±–ª–∞—Å—Ç–∏ –æ—Å—Ç–µ–æ–ø–∞—Ç–∏–∏ –∏ —Ä–µ–∞–±–∏–ª–∏—Ç–∞—Ü–∏–∏. –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –≥–æ—Ç–æ–≤–∞ –ø–æ–º–æ—á—å –≤–∞–º –¥–æ—Å—Ç–∏—á—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è.</p>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p data-i18n="footer.text">&copy; 2024 OsteoJump. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        </div>
    </footer>

    <script src="js/i18n.js"></script>
    <script src="js/main.js"></script>
</body>
</html>

